
<% if flash[:notice] %>
  <h5 class="alert alert-success text-center"><%= flash[:notice] %></h5>
<% end %>

<% if flash[:alert] %>
  <h5 class="alert alert-danger text-center"><%= flash[:alert] %></h5>
<% end %>

<div class="text-center">
  <h1>Browse Sparql Queries</h1>
</div>
<hr/>

<div class="row">
  <div class="col-xs-12 col-sm-6">
    <div class="panel panel-default">
      <div class="panel-heading text-center"><h4>My Sparql Queries</h4></div>
      <div class="panel-body">
        <div class="row">
          <!-- 
          See assets/javascripts/SparqlQueries/showAll.js for 
          code that was once used to filter queries using the search bar

          <div class="col-xs-5">
            <div class="form-inline">
              <div class="form-group">
                <input type="text" class="form-control" id="searchBar" placeholder="Search">
              </div>
            </div>
          </div> -->
          <div class="col-xs-3">
            <%= link_to new_sparql_query_path do %>
              <button class="btn btn-primary btn-xs">
                New Sparql Query
              </button>
            <% end %>
          </div>
        </div>
      </div>

      <table class="table">
        <% @sparql_queries.each do |sparql_query| %>
          <tr id="queryRow">
              <td class="text-center">
                <div class="row">
                  <div class="col-xs-8">
                    <%= link_to sparql_query do %>
                      <button class="btn btn-info btn-block">
                        <%= sparql_query.name %>
                      </button>
                    <% end %>
                  </div>
                  <div class="col-xs-4">
                    <%= link_to visualizer_url(id: sparql_query.id) do %>
                      <button class="btn btn-success btn-block">
                        Visualize
                      </button>
                    <% end %>
                  </div>
                </div>
              </td>
          </tr>
        <% end %>
      </table>
      <div class="panel-footer text-center">
        <!-- Pagination occurs after 15 queries are available -->
        <%= will_paginate @sparql_queries, :param_name => 'my_queries' %>
      </div> 
    </div>
  </div>

  <div class="col-xs-12 col-sm-6">

    <div class="panel panel-default">
      <div class="panel-heading text-center"><h4>Other Users' Sparql Queries</h4></div>
      <!-- 
      See above comment for link to related js code

      <div class="panel-body">
        <div class="col-xs-6 text-center">
          <div class="form-inline">
            <div class="form-group">
              <input type="text" class="form-control" id="searchBar" placeholder="Search">
            </div>
          </div>
        </div>
      </div> -->

      <table class="table" id="otherQueryData">
        <% @other_users_sparql_queries.each do |sparql_query| %>
          <tr id="queryRow">
            <td class="text-center">
              <div class="row">
                <div class="col-xs-8">
                  <%= link_to sparql_query do %>
                    <button class="btn btn-info btn-block">
                      <%= sparql_query.name %>
                    </button>
                  <% end %>
                </div>
                <div class="col-xs-4">
                  <%= link_to visualizer_url(id: sparql_query.id) do %>
                    <button class="btn btn-success btn-block">
                      Visualize
                    </button>
                  <% end %>
                </div>
              </div>
            </td>
          </tr>
        <% end %>
      </table>
     <div class="panel-footer text-center">
        <%= will_paginate @other_users_sparql_queries, :param_name => 'not_my_queries' %>
      </div> 
    </div>
    </div>
  </div>
</div>
